<div class="content-panel">
  <h2 class="page-title-label">Question</h2>
  <ng-container *ngIf="question">
    <h2 *ngIf="question.quizTitle" class="page-secondary-title-label">{{question.quizTitle}}</h2>

    <h3 *ngIf="question.section && question.section.title">
      <a *ngIf="question.section.link" href="{{question.section.link}}">{{question.section.title}}</a>
      <ng-container *ngIf="!question.section.link">{{question.section.title}}</ng-container>
    </h3>

    <h3 *ngIf="question.subSection && question.subSection.title">
      <a *ngIf="question.subSection.link" href="{{question.subSection.link}}">{{question.subSection.title}}</a>
      <ng-container *ngIf="!question.subSection.link">{{question.subSection.title}}</ng-container>
    </h3>

    <h3 *ngIf="question.text && question.text.text">{{question.text.text}}</h3>

    <ng-container [ngModel]="submissionResult" name="result" ngDefaultControl>
      <div *ngIf="question.choices" class="choices-panel clearfix">
        <span *ngFor="let choice of question.choices" class="question-radio-button">
          <input id="foo" name="choices" value="on" type="radio" [checked]="choiceIsCorrect(choice.text)" (click)="onChoiceClicked(choice.text)"/>
          <label for="foo" (click)="onChoiceClicked(choice.text)">{{choice.text}}</label>
        </span>
      </div>

      <div class="result-panel">
        <ng-container *ngIf="submissionResult">
          <p *ngIf="submissionResult.result" class="result-label">Correct</p>
          <p *ngIf="!submissionResult.result && !showAnswer" class="result-label">Wrong</p>

          <p *ngIf="question.note" class="note-label">{{question.note}}</p>
          <a *ngIf="question.videoUrl" class="video-anchor" href="{{question.videoUrl}}">Video</a>
          <a *ngIf="question.codeUrl" class="code-anchor" href="{{question.codeUrl}}">Code</a>

          <a [routerLink]="['/question']" [queryParams]="queryParamsForNextQuestion()">Next</a>
        </ng-container>

        <button *ngIf="!submissionResult || !submissionResult.result" class="show-answer-button" type="button" (click)="onShowAnswer()">Show Answer</button>
      </div>
    </ng-container>
  </ng-container>
</div>
<user-history-sections></user-history-sections>
