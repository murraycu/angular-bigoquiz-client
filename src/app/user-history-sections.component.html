<div class="sidebar-panel-sections">
  <div class="user-history-recent-panel">
    <h2>Sections</h2>
    <div class="user-history-answers-panel">

      <ng-container *ngIf="userHistorySections">
        <div *ngFor="let section of userHistorySections.sections"
          class="quiz-section">
          <h3><a [routerLink]="['/question']" [queryParams]="{'quiz-id': quizId, 'section-id': section.id}">{{section.title}}</a></h3>
          <div *ngIf="userHistorySections.getUserStatsForSection(section.id); let stats" class="progress-bar">
            <p class="progress-part-correct-once" [ngStyle]="{'width': stats.percentCorrectOnce(section.questionsCount)}">{{stats.countQuestionsCorrectOnce}} correct once</p>
            <p class="progress-part-answered-once" [ngStyle]="{'width': stats.percentAnsweredOnce(section.questionsCount)}">{{stats.countQuestionsAnsweredOnce}} answered once</p>
            <p class="progress-part-count" style="width: 100%">{{section.questionsCount}} questions</p>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
